# `RollupFeeVault`

Accepts ETH for later economic functions.

### INVOICE_SETTER_ROLE

```solidity
bytes32 INVOICE_SETTER_ROLE
```

### BURNER_ROLE

```solidity
bytes32 BURNER_ROLE
```

### v3Dex

```solidity
contract IV3DexSwap v3Dex
```

Decentralized exchange contract for swapping ETH to LINEA tokens.

### operatingCostsReceiver

```solidity
address operatingCostsReceiver
```

Address to receive operating costs.

### operatingCosts

```solidity
uint256 operatingCosts
```

Amount of operating costs owed.

### lastOperatingCostsUpdate

```solidity
uint256 lastOperatingCostsUpdate
```

Timestamp of the last operating costs update.

### tokenBridge

```solidity
contract TokenBridge tokenBridge
```

Address of the token bridge contract.

### messageService

```solidity
contract L2MessageService messageService
```

Address of the L2 message service contract.

### l1BurnerContract

```solidity
address l1BurnerContract
```

Address of the L1 burner contract to which LINEA tokens are bridged for burning.

### lineaToken

```solidity
address lineaToken
```

Address of the LINEA token contract.

### constructor

```solidity
constructor() public
```

### initialize

```solidity
function initialize(address _defaultAdmin, address _invoiceSetter, address _burner, address _operatingCostsReceiver, address _tokenBridge, address _messageService, address _l1BurnerContract, address _lineaToken, address _dex) external
```

Initializes the contract state.

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _defaultAdmin | address | Address to be granted the default admin role. |
| _invoiceSetter | address | Address to be granted the invoice role. |
| _burner | address | Address to be granted the burner role. |
| _operatingCostsReceiver | address | Address to receive operating costs. |
| _tokenBridge | address | Address of the token bridge contract. |
| _messageService | address | Address of the L2 message service contract. |
| _l1BurnerContract | address | Address of the L1 burner contract. |
| _lineaToken | address | Address of the LINEA token contract. |
| _dex | address | Address of the DEX contract. |

### initializeRolesAndStorageVariables

```solidity
function initializeRolesAndStorageVariables(address _defaultAdmin, address _invoiceSetter, address _burner, address _operatingCostsReceiver, address _tokenBridge, address _messageService, address _l1BurnerContract, address _lineaToken, address _dex) external
```

Initializes the contract state for upgrade.

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _defaultAdmin | address | Address to be granted the default admin role. |
| _invoiceSetter | address | Address to be granted the invoice role. |
| _burner | address | Address to be granted the burner role. |
| _operatingCostsReceiver | address | Address to receive operating costs. |
| _tokenBridge | address | Address of the token bridge contract. |
| _messageService | address | Address of the L2 message service contract. |
| _l1BurnerContract | address | Address of the L1 burner contract. |
| _lineaToken | address | Address of the LINEA token contract. |
| _dex | address | Address of the DEX contract. |

### __RollupFeeVault_init

```solidity
function __RollupFeeVault_init(address _defaultAdmin, address _invoiceSetter, address _burner, address _operatingCostsReceiver, address _tokenBridge, address _messageService, address _l1BurnerContract, address _lineaToken, address _dex) internal
```

### sendOperatingCosts

```solidity
function sendOperatingCosts(uint256 _startTimestamp, uint256 _endTimestamp, uint256 _amount) external payable
```

Send operating costs to the designated receiver.

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _startTimestamp | uint256 | Start of the period the costs are covering. |
| _endTimestamp | uint256 | End of the period the costs are covering. |
| _amount | uint256 | New operating costs value. |

### updateOperatingCosts

```solidity
function updateOperatingCosts(uint256 _newOperatingCosts) external
```

Update the operating costs.

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _newOperatingCosts | uint256 | New operating costs value. |

### updateL1BurnerContract

```solidity
function updateL1BurnerContract(address _newL1BurnerContract) external
```

Updates the address of the L1 burner contract.

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _newL1BurnerContract | address | Address of the new L1 burner contract. |

### updateDex

```solidity
function updateDex(address _newDex) external
```

Updates the address of the DEX contract.

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _newDex | address | Address of the new DEX contract. |

### updateOperatingCostsReceiver

```solidity
function updateOperatingCostsReceiver(address _newOperatingCostsReceiver) external
```

Updates the address of the operating costs receiver.

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _newOperatingCostsReceiver | address | Address of the new operating costs receiver. |

### burnAndBridge

```solidity
function burnAndBridge(uint256 _minLineaOut, uint256 _deadline, uint160 _sqrtPriceLimitX96) public
```

Burns 20% of the ETH balance and uses the rest to buy LINEA tokens which are then bridged to L1 to be burned.

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _minLineaOut | uint256 | Number of LINEA tokens to receive as a minimum (slippage protection). |
| _deadline | uint256 | Time after which the transaction will revert if not yet processed. |
| _sqrtPriceLimitX96 | uint160 | Price limit of the swap as a Q64.96 value. |

### fallback

```solidity
fallback() external payable
```

Fallback function - Receives Funds.

### receive

```solidity
receive() external payable
```

Receive function - Receives Funds.

