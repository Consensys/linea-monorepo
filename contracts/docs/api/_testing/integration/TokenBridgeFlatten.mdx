# `AddressUpgradeable`

### isContract

```solidity
function isContract(address account) internal view returns (bool)
```

_Returns true if `account` is a contract.

[IMPORTANT]
====
It is unsafe to assume that an address for which this function returns
false is an externally-owned account (EOA) and not a contract.

Among others, `isContract` will return false for the following
types of addresses:

 - an externally-owned account
 - a contract in construction
 - an address where a contract will be created
 - an address where a contract lived, but was destroyed

Furthermore, `isContract` will also return true if the target contract within
the same transaction is already scheduled for destruction by `SELFDESTRUCT`,
which only has an effect at the end of a transaction.
====

[IMPORTANT]
====
You shouldn't rely on `isContract` to protect against flash loan attacks!

Preventing calls from contracts is highly discouraged. It breaks composability, breaks support for smart wallets
like Gnosis Safe, and does not provide security since it can be circumvented by calling from a contract
constructor.
====_

### sendValue

```solidity
function sendValue(address payable recipient, uint256 amount) internal
```

_Replacement for Solidity's `transfer`: sends `amount` wei to
`recipient`, forwarding all available gas and reverting on errors.

https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost
of certain opcodes, possibly making contracts go over the 2300 gas limit
imposed by `transfer`, making them unable to receive funds via
`transfer`. {sendValue} removes this limitation.

https://consensys.net/diligence/blog/2019/09/stop-using-soliditys-transfer-now/[Learn more].

IMPORTANT: because control is transferred to `recipient`, care must be
taken to not create reentrancy vulnerabilities. Consider using
{ReentrancyGuard} or the
https://solidity.readthedocs.io/en/v0.8.0/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern]._

### functionCall

```solidity
function functionCall(address target, bytes data) internal returns (bytes)
```

_Performs a Solidity function call using a low level `call`. A
plain `call` is an unsafe replacement for a function call: use this
function instead.

If `target` reverts with a revert reason, it is bubbled up by this
function (like regular Solidity function calls).

Returns the raw returned data. To convert to the expected return value,
use https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions[`abi.decode`].

Requirements:

- `target` must be a contract.
- calling `target` with `data` must not revert.

_Available since v3.1.__

### functionCall

```solidity
function functionCall(address target, bytes data, string errorMessage) internal returns (bytes)
```

_Same as {xref-Address-functionCall-address-bytes-}[`functionCall`], but with
`errorMessage` as a fallback revert reason when `target` reverts.

_Available since v3.1.__

### functionCallWithValue

```solidity
function functionCallWithValue(address target, bytes data, uint256 value) internal returns (bytes)
```

_Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],
but also transferring `value` wei to `target`.

Requirements:

- the calling contract must have an ETH balance of at least `value`.
- the called Solidity function must be `payable`.

_Available since v3.1.__

### functionCallWithValue

```solidity
function functionCallWithValue(address target, bytes data, uint256 value, string errorMessage) internal returns (bytes)
```

_Same as {xref-Address-functionCallWithValue-address-bytes-uint256-}[`functionCallWithValue`], but
with `errorMessage` as a fallback revert reason when `target` reverts.

_Available since v3.1.__

### functionStaticCall

```solidity
function functionStaticCall(address target, bytes data) internal view returns (bytes)
```

_Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],
but performing a static call.

_Available since v3.3.__

### functionStaticCall

```solidity
function functionStaticCall(address target, bytes data, string errorMessage) internal view returns (bytes)
```

_Same as {xref-Address-functionCall-address-bytes-string-}[`functionCall`],
but performing a static call.

_Available since v3.3.__

### functionDelegateCall

```solidity
function functionDelegateCall(address target, bytes data) internal returns (bytes)
```

_Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],
but performing a delegate call.

_Available since v3.4.__

### functionDelegateCall

```solidity
function functionDelegateCall(address target, bytes data, string errorMessage) internal returns (bytes)
```

_Same as {xref-Address-functionCall-address-bytes-string-}[`functionCall`],
but performing a delegate call.

_Available since v3.4.__

### verifyCallResultFromTarget

```solidity
function verifyCallResultFromTarget(address target, bool success, bytes returndata, string errorMessage) internal view returns (bytes)
```

_Tool to verify that a low level call to smart-contract was successful, and revert (either by bubbling
the revert reason or using the provided one) in case of unsuccessful call or if target was not a contract.

_Available since v4.8.__

### verifyCallResult

```solidity
function verifyCallResult(bool success, bytes returndata, string errorMessage) internal pure returns (bytes)
```

_Tool to verify that a low level call was successful, and revert if it wasn't, either by bubbling the
revert reason or using the provided one.

_Available since v4.3.__

# `Initializable`

### Initialized

```solidity
event Initialized(uint8 version)
```

_Triggered when the contract has been initialized or reinitialized._

### initializer

```solidity
modifier initializer()
```

_A modifier that defines a protected initializer function that can be invoked at most once. In its scope,
`onlyInitializing` functions can be used to initialize parent contracts.

Similar to `reinitializer(1)`, except that functions marked with `initializer` can be nested in the context of a
constructor.

Emits an {Initialized} event._

### reinitializer

```solidity
modifier reinitializer(uint8 version)
```

_A modifier that defines a protected reinitializer function that can be invoked at most once, and only if the
contract hasn't been initialized to a greater version before. In its scope, `onlyInitializing` functions can be
used to initialize parent contracts.

A reinitializer may be used after the original initialization step. This is essential to configure modules that
are added through upgrades and that require initialization.

When `version` is 1, this modifier is similar to `initializer`, except that functions marked with `reinitializer`
cannot be nested. If one is invoked in the context of another, execution will revert.

Note that versions can jump in increments greater than 1; this implies that if multiple reinitializers coexist in
a contract, executing them in the right order is up to the developer or operator.

WARNING: setting the version to 255 will prevent any future reinitialization.

Emits an {Initialized} event._

### onlyInitializing

```solidity
modifier onlyInitializing()
```

_Modifier to protect an initialization function so that it can only be invoked by functions with the
{initializer} and {reinitializer} modifiers, directly or indirectly._

### _disableInitializers

```solidity
function _disableInitializers() internal virtual
```

_Locks the contract, preventing any future reinitialization. This cannot be part of an initializer call.
Calling this in the constructor of a contract will prevent that contract from being initialized or reinitialized
to any version. It is recommended to use this to lock implementation contracts that are designed to be called
through proxies.

Emits an {Initialized} event the first time it is successfully executed._

### _getInitializedVersion

```solidity
function _getInitializedVersion() internal view returns (uint8)
```

_Returns the highest version that has been initialized. See {reinitializer}._

### _isInitializing

```solidity
function _isInitializing() internal view returns (bool)
```

_Returns `true` if the contract is currently initializing. See {onlyInitializing}._

# `ContextUpgradeable`

### __Context_init

```solidity
function __Context_init() internal
```

### __Context_init_unchained

```solidity
function __Context_init_unchained() internal
```

### _msgSender

```solidity
function _msgSender() internal view virtual returns (address)
```

### _msgData

```solidity
function _msgData() internal view virtual returns (bytes)
```

### _contextSuffixLength

```solidity
function _contextSuffixLength() internal view virtual returns (uint256)
```

# `OwnableUpgradeable`

### OwnershipTransferred

```solidity
event OwnershipTransferred(address previousOwner, address newOwner)
```

### __Ownable_init

```solidity
function __Ownable_init() internal
```

_Initializes the contract setting the deployer as the initial owner._

### __Ownable_init_unchained

```solidity
function __Ownable_init_unchained() internal
```

### onlyOwner

```solidity
modifier onlyOwner()
```

_Throws if called by any account other than the owner._

### owner

```solidity
function owner() public view virtual returns (address)
```

_Returns the address of the current owner._

### _checkOwner

```solidity
function _checkOwner() internal view virtual
```

_Throws if the sender is not the owner._

### renounceOwnership

```solidity
function renounceOwnership() public virtual
```

_Leaves the contract without owner. It will not be possible to call
`onlyOwner` functions. Can only be called by the current owner.

NOTE: Renouncing ownership will leave the contract without an owner,
thereby disabling any functionality that is only available to the owner._

### transferOwnership

```solidity
function transferOwnership(address newOwner) public virtual
```

_Transfers ownership of the contract to a new account (`newOwner`).
Can only be called by the current owner._

### _transferOwnership

```solidity
function _transferOwnership(address newOwner) internal virtual
```

_Transfers ownership of the contract to a new account (`newOwner`).
Internal function without access restriction._

# `Ownable2StepUpgradeable`

### OwnershipTransferStarted

```solidity
event OwnershipTransferStarted(address previousOwner, address newOwner)
```

### __Ownable2Step_init

```solidity
function __Ownable2Step_init() internal
```

### __Ownable2Step_init_unchained

```solidity
function __Ownable2Step_init_unchained() internal
```

### pendingOwner

```solidity
function pendingOwner() public view virtual returns (address)
```

_Returns the address of the pending owner._

### transferOwnership

```solidity
function transferOwnership(address newOwner) public virtual
```

_Starts the ownership transfer of the contract to a new account. Replaces the pending transfer if there is one.
Can only be called by the current owner._

### _transferOwnership

```solidity
function _transferOwnership(address newOwner) internal virtual
```

_Transfers ownership of the contract to a new account (`newOwner`) and deletes any pending owner.
Internal function without access restriction._

### acceptOwnership

```solidity
function acceptOwnership() public virtual
```

_The new owner accepts the ownership transfer._

# `PausableUpgradeable`

### Paused

```solidity
event Paused(address account)
```

_Emitted when the pause is triggered by `account`._

### Unpaused

```solidity
event Unpaused(address account)
```

_Emitted when the pause is lifted by `account`._

### __Pausable_init

```solidity
function __Pausable_init() internal
```

_Initializes the contract in unpaused state._

### __Pausable_init_unchained

```solidity
function __Pausable_init_unchained() internal
```

### whenNotPaused

```solidity
modifier whenNotPaused()
```

_Modifier to make a function callable only when the contract is not paused.

Requirements:

- The contract must not be paused._

### whenPaused

```solidity
modifier whenPaused()
```

_Modifier to make a function callable only when the contract is paused.

Requirements:

- The contract must be paused._

### paused

```solidity
function paused() public view virtual returns (bool)
```

_Returns true if the contract is paused, and false otherwise._

### _requireNotPaused

```solidity
function _requireNotPaused() internal view virtual
```

_Throws if the contract is paused._

### _requirePaused

```solidity
function _requirePaused() internal view virtual
```

_Throws if the contract is not paused._

### _pause

```solidity
function _pause() internal virtual
```

_Triggers stopped state.

Requirements:

- The contract must not be paused._

### _unpause

```solidity
function _unpause() internal virtual
```

_Returns to normal state.

Requirements:

- The contract must be paused._

# `ReentrancyGuardUpgradeable`

### __ReentrancyGuard_init

```solidity
function __ReentrancyGuard_init() internal
```

### __ReentrancyGuard_init_unchained

```solidity
function __ReentrancyGuard_init_unchained() internal
```

### nonReentrant

```solidity
modifier nonReentrant()
```

_Prevents a contract from calling itself, directly or indirectly.
Calling a `nonReentrant` function from another `nonReentrant`
function is not supported. It is possible to prevent this from happening
by making the `nonReentrant` function external, and making it call a
`private` function that does the actual work._

### _reentrancyGuardEntered

```solidity
function _reentrancyGuardEntered() internal view returns (bool)
```

_Returns true if the reentrancy guard is currently set to "entered", which indicates there is a
`nonReentrant` function in the call stack._

# `IERC20Upgradeable`

### Transfer

```solidity
event Transfer(address from, address to, uint256 value)
```

_Emitted when `value` tokens are moved from one account (`from`) to
another (`to`).

Note that `value` may be zero._

### Approval

```solidity
event Approval(address owner, address spender, uint256 value)
```

_Emitted when the allowance of a `spender` for an `owner` is set by
a call to {approve}. `value` is the new allowance._

### totalSupply

```solidity
function totalSupply() external view returns (uint256)
```

_Returns the amount of tokens in existence._

### balanceOf

```solidity
function balanceOf(address account) external view returns (uint256)
```

_Returns the amount of tokens owned by `account`._

### transfer

```solidity
function transfer(address to, uint256 amount) external returns (bool)
```

_Moves `amount` tokens from the caller's account to `to`.

Returns a boolean value indicating whether the operation succeeded.

Emits a {Transfer} event._

### allowance

```solidity
function allowance(address owner, address spender) external view returns (uint256)
```

_Returns the remaining number of tokens that `spender` will be
allowed to spend on behalf of `owner` through {transferFrom}. This is
zero by default.

This value changes when {approve} or {transferFrom} are called._

### approve

```solidity
function approve(address spender, uint256 amount) external returns (bool)
```

_Sets `amount` as the allowance of `spender` over the caller's tokens.

Returns a boolean value indicating whether the operation succeeded.

IMPORTANT: Beware that changing an allowance with this method brings the risk
that someone may use both the old and the new allowance by unfortunate
transaction ordering. One possible solution to mitigate this race
condition is to first reduce the spender's allowance to 0 and set the
desired value afterwards:
https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729

Emits an {Approval} event._

### transferFrom

```solidity
function transferFrom(address from, address to, uint256 amount) external returns (bool)
```

_Moves `amount` tokens from `from` to `to` using the
allowance mechanism. `amount` is then deducted from the caller's
allowance.

Returns a boolean value indicating whether the operation succeeded.

Emits a {Transfer} event._

# `IERC20MetadataUpgradeable`

### name

```solidity
function name() external view returns (string)
```

_Returns the name of the token._

### symbol

```solidity
function symbol() external view returns (string)
```

_Returns the symbol of the token._

### decimals

```solidity
function decimals() external view returns (uint8)
```

_Returns the decimals places of the token._

# `ERC20Upgradeable`

### __ERC20_init

```solidity
function __ERC20_init(string name_, string symbol_) internal
```

_Sets the values for {name} and {symbol}.

All two of these values are immutable: they can only be set once during
construction._

### __ERC20_init_unchained

```solidity
function __ERC20_init_unchained(string name_, string symbol_) internal
```

### name

```solidity
function name() public view virtual returns (string)
```

_Returns the name of the token._

### symbol

```solidity
function symbol() public view virtual returns (string)
```

_Returns the symbol of the token, usually a shorter version of the
name._

### decimals

```solidity
function decimals() public view virtual returns (uint8)
```

_Returns the number of decimals used to get its user representation.
For example, if `decimals` equals `2`, a balance of `505` tokens should
be displayed to a user as `5.05` (`505 / 10 ** 2`).

Tokens usually opt for a value of 18, imitating the relationship between
Ether and Wei. This is the default value returned by this function, unless
it's overridden.

NOTE: This information is only used for _display_ purposes: it in
no way affects any of the arithmetic of the contract, including
{IERC20-balanceOf} and {IERC20-transfer}._

### totalSupply

```solidity
function totalSupply() public view virtual returns (uint256)
```

_See {IERC20-totalSupply}._

### balanceOf

```solidity
function balanceOf(address account) public view virtual returns (uint256)
```

_See {IERC20-balanceOf}._

### transfer

```solidity
function transfer(address to, uint256 amount) public virtual returns (bool)
```

_See {IERC20-transfer}.

Requirements:

- `to` cannot be the zero address.
- the caller must have a balance of at least `amount`._

### allowance

```solidity
function allowance(address owner, address spender) public view virtual returns (uint256)
```

_See {IERC20-allowance}._

### approve

```solidity
function approve(address spender, uint256 amount) public virtual returns (bool)
```

_See {IERC20-approve}.

NOTE: If `amount` is the maximum `uint256`, the allowance is not updated on
`transferFrom`. This is semantically equivalent to an infinite approval.

Requirements:

- `spender` cannot be the zero address._

### transferFrom

```solidity
function transferFrom(address from, address to, uint256 amount) public virtual returns (bool)
```

_See {IERC20-transferFrom}.

Emits an {Approval} event indicating the updated allowance. This is not
required by the EIP. See the note at the beginning of {ERC20}.

NOTE: Does not update the allowance if the current allowance
is the maximum `uint256`.

Requirements:

- `from` and `to` cannot be the zero address.
- `from` must have a balance of at least `amount`.
- the caller must have allowance for ``from``'s tokens of at least
`amount`._

### increaseAllowance

```solidity
function increaseAllowance(address spender, uint256 addedValue) public virtual returns (bool)
```

_Atomically increases the allowance granted to `spender` by the caller.

This is an alternative to {approve} that can be used as a mitigation for
problems described in {IERC20-approve}.

Emits an {Approval} event indicating the updated allowance.

Requirements:

- `spender` cannot be the zero address._

### decreaseAllowance

```solidity
function decreaseAllowance(address spender, uint256 subtractedValue) public virtual returns (bool)
```

_Atomically decreases the allowance granted to `spender` by the caller.

This is an alternative to {approve} that can be used as a mitigation for
problems described in {IERC20-approve}.

Emits an {Approval} event indicating the updated allowance.

Requirements:

- `spender` cannot be the zero address.
- `spender` must have allowance for the caller of at least
`subtractedValue`._

### _transfer

```solidity
function _transfer(address from, address to, uint256 amount) internal virtual
```

_Moves `amount` of tokens from `from` to `to`.

This internal function is equivalent to {transfer}, and can be used to
e.g. implement automatic token fees, slashing mechanisms, etc.

Emits a {Transfer} event.

Requirements:

- `from` cannot be the zero address.
- `to` cannot be the zero address.
- `from` must have a balance of at least `amount`._

### _mint

```solidity
function _mint(address account, uint256 amount) internal virtual
```

_Creates `amount` tokens and assigns them to `account`, increasing
the total supply.

Emits a {Transfer} event with `from` set to the zero address.

Requirements:

- `account` cannot be the zero address._

### _burn

```solidity
function _burn(address account, uint256 amount) internal virtual
```

_Destroys `amount` tokens from `account`, reducing the
total supply.

Emits a {Transfer} event with `to` set to the zero address.

Requirements:

- `account` cannot be the zero address.
- `account` must have at least `amount` tokens._

### _approve

```solidity
function _approve(address owner, address spender, uint256 amount) internal virtual
```

_Sets `amount` as the allowance of `spender` over the `owner` s tokens.

This internal function is equivalent to `approve`, and can be used to
e.g. set automatic allowances for certain subsystems, etc.

Emits an {Approval} event.

Requirements:

- `owner` cannot be the zero address.
- `spender` cannot be the zero address._

### _spendAllowance

```solidity
function _spendAllowance(address owner, address spender, uint256 amount) internal virtual
```

_Updates `owner` s allowance for `spender` based on spent `amount`.

Does not update the allowance amount in case of infinite allowance.
Revert if not enough allowance is available.

Might emit an {Approval} event._

### _beforeTokenTransfer

```solidity
function _beforeTokenTransfer(address from, address to, uint256 amount) internal virtual
```

_Hook that is called before any transfer of tokens. This includes
minting and burning.

Calling conditions:

- when `from` and `to` are both non-zero, `amount` of ``from``'s tokens
will be transferred to `to`.
- when `from` is zero, `amount` tokens will be minted for `to`.
- when `to` is zero, `amount` of ``from``'s tokens will be burned.
- `from` and `to` are never both zero.

To learn more about hooks, head to xref:ROOT:extending-contracts.adoc#using-hooks[Using Hooks]._

### _afterTokenTransfer

```solidity
function _afterTokenTransfer(address from, address to, uint256 amount) internal virtual
```

_Hook that is called after any transfer of tokens. This includes
minting and burning.

Calling conditions:

- when `from` and `to` are both non-zero, `amount` of ``from``'s tokens
has been transferred to `to`.
- when `from` is zero, `amount` tokens have been minted for `to`.
- when `to` is zero, `amount` of ``from``'s tokens have been burned.
- `from` and `to` are never both zero.

To learn more about hooks, head to xref:ROOT:extending-contracts.adoc#using-hooks[Using Hooks]._

# `IERC20PermitUpgradeable`

### permit

```solidity
function permit(address owner, address spender, uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s) external
```

_Sets `value` as the allowance of `spender` over ``owner``'s tokens,
given ``owner``'s signed approval.

IMPORTANT: The same issues {IERC20-approve} has related to transaction
ordering also apply here.

Emits an {Approval} event.

Requirements:

- `spender` cannot be the zero address.
- `deadline` must be a timestamp in the future.
- `v`, `r` and `s` must be a valid `secp256k1` signature from `owner`
over the EIP712-formatted function arguments.
- the signature must use ``owner``'s current nonce (see {nonces}).

For more information on the signature format, see the
https://eips.ethereum.org/EIPS/eip-2612#specification[relevant EIP
section].

CAUTION: See Security Considerations above._

### nonces

```solidity
function nonces(address owner) external view returns (uint256)
```

_Returns the current nonce for `owner`. This value must be
included whenever a signature is generated for {permit}.

Every successful call to {permit} increases ``owner``'s nonce by one. This
prevents a signature from being used multiple times._

### DOMAIN_SEPARATOR

```solidity
function DOMAIN_SEPARATOR() external view returns (bytes32)
```

_Returns the domain separator used in the encoding of the signature for {permit}, as defined by {EIP712}._

# `CountersUpgradeable`

### Counter

```solidity
struct Counter {
  uint256 _value;
}
```

### current

```solidity
function current(struct CountersUpgradeable.Counter counter) internal view returns (uint256)
```

### increment

```solidity
function increment(struct CountersUpgradeable.Counter counter) internal
```

### decrement

```solidity
function decrement(struct CountersUpgradeable.Counter counter) internal
```

### reset

```solidity
function reset(struct CountersUpgradeable.Counter counter) internal
```

# `MathUpgradeable`

### Rounding

```solidity
enum Rounding {
  Down,
  Up,
  Zero
}
```

### max

```solidity
function max(uint256 a, uint256 b) internal pure returns (uint256)
```

_Returns the largest of two numbers._

### min

```solidity
function min(uint256 a, uint256 b) internal pure returns (uint256)
```

_Returns the smallest of two numbers._

### average

```solidity
function average(uint256 a, uint256 b) internal pure returns (uint256)
```

_Returns the average of two numbers. The result is rounded towards
zero._

### ceilDiv

```solidity
function ceilDiv(uint256 a, uint256 b) internal pure returns (uint256)
```

_Returns the ceiling of the division of two numbers.

This differs from standard division with `/` in that it rounds up instead
of rounding down._

### mulDiv

```solidity
function mulDiv(uint256 x, uint256 y, uint256 denominator) internal pure returns (uint256 result)
```

Calculates floor(x * y / denominator) with full precision. Throws if result overflows a uint256 or denominator == 0

_Original credit to Remco Bloemen under MIT license (https://xn--2-umb.com/21/muldiv)
with further edits by Uniswap Labs also under MIT license._

### mulDiv

```solidity
function mulDiv(uint256 x, uint256 y, uint256 denominator, enum MathUpgradeable.Rounding rounding) internal pure returns (uint256)
```

Calculates x * y / denominator with full precision, following the selected rounding direction.

### sqrt

```solidity
function sqrt(uint256 a) internal pure returns (uint256)
```

_Returns the square root of a number. If the number is not a perfect square, the value is rounded down.

Inspired by Henry S. Warren, Jr.'s "Hacker's Delight" (Chapter 11)._

### sqrt

```solidity
function sqrt(uint256 a, enum MathUpgradeable.Rounding rounding) internal pure returns (uint256)
```

Calculates sqrt(a), following the selected rounding direction.

### log2

```solidity
function log2(uint256 value) internal pure returns (uint256)
```

_Return the log in base 2, rounded down, of a positive value.
Returns 0 if given 0._

### log2

```solidity
function log2(uint256 value, enum MathUpgradeable.Rounding rounding) internal pure returns (uint256)
```

_Return the log in base 2, following the selected rounding direction, of a positive value.
Returns 0 if given 0._

### log10

```solidity
function log10(uint256 value) internal pure returns (uint256)
```

_Return the log in base 10, rounded down, of a positive value.
Returns 0 if given 0._

### log10

```solidity
function log10(uint256 value, enum MathUpgradeable.Rounding rounding) internal pure returns (uint256)
```

_Return the log in base 10, following the selected rounding direction, of a positive value.
Returns 0 if given 0._

### log256

```solidity
function log256(uint256 value) internal pure returns (uint256)
```

_Return the log in base 256, rounded down, of a positive value.
Returns 0 if given 0.

Adding one to the result gives the number of pairs of hex symbols needed to represent `value` as a hex string._

### log256

```solidity
function log256(uint256 value, enum MathUpgradeable.Rounding rounding) internal pure returns (uint256)
```

_Return the log in base 256, following the selected rounding direction, of a positive value.
Returns 0 if given 0._

# `SignedMathUpgradeable`

### max

```solidity
function max(int256 a, int256 b) internal pure returns (int256)
```

_Returns the largest of two signed numbers._

### min

```solidity
function min(int256 a, int256 b) internal pure returns (int256)
```

_Returns the smallest of two signed numbers._

### average

```solidity
function average(int256 a, int256 b) internal pure returns (int256)
```

_Returns the average of two signed numbers without overflow.
The result is rounded towards zero._

### abs

```solidity
function abs(int256 n) internal pure returns (uint256)
```

_Returns the absolute unsigned value of a signed value._

# `StringsUpgradeable`

### toString

```solidity
function toString(uint256 value) internal pure returns (string)
```

_Converts a `uint256` to its ASCII `string` decimal representation._

### toString

```solidity
function toString(int256 value) internal pure returns (string)
```

_Converts a `int256` to its ASCII `string` decimal representation._

### toHexString

```solidity
function toHexString(uint256 value) internal pure returns (string)
```

_Converts a `uint256` to its ASCII `string` hexadecimal representation._

### toHexString

```solidity
function toHexString(uint256 value, uint256 length) internal pure returns (string)
```

_Converts a `uint256` to its ASCII `string` hexadecimal representation with fixed length._

### toHexString

```solidity
function toHexString(address addr) internal pure returns (string)
```

_Converts an `address` with fixed length of 20 bytes to its not checksummed ASCII `string` hexadecimal representation._

### equal

```solidity
function equal(string a, string b) internal pure returns (bool)
```

_Returns true if the two strings are equal._

# `ECDSAUpgradeable`

### RecoverError

```solidity
enum RecoverError {
  NoError,
  InvalidSignature,
  InvalidSignatureLength,
  InvalidSignatureS,
  InvalidSignatureV
}
```

### tryRecover

```solidity
function tryRecover(bytes32 hash, bytes signature) internal pure returns (address, enum ECDSAUpgradeable.RecoverError)
```

_Returns the address that signed a hashed message (`hash`) with
`signature` or error string. This address can then be used for verification purposes.

The `ecrecover` EVM opcode allows for malleable (non-unique) signatures:
this function rejects them by requiring the `s` value to be in the lower
half order, and the `v` value to be either 27 or 28.

IMPORTANT: `hash` _must_ be the result of a hash operation for the
verification to be secure: it is possible to craft signatures that
recover to arbitrary addresses for non-hashed data. A safe way to ensure
this is by receiving a hash of the original message (which may otherwise
be too long), and then calling {toEthSignedMessageHash} on it.

Documentation for signature generation:
- with https://web3js.readthedocs.io/en/v1.3.4/web3-eth-accounts.html#sign[Web3.js]
- with https://docs.ethers.io/v5/api/signer/#Signer-signMessage[ethers]

_Available since v4.3.__

### recover

```solidity
function recover(bytes32 hash, bytes signature) internal pure returns (address)
```

_Returns the address that signed a hashed message (`hash`) with
`signature`. This address can then be used for verification purposes.

The `ecrecover` EVM opcode allows for malleable (non-unique) signatures:
this function rejects them by requiring the `s` value to be in the lower
half order, and the `v` value to be either 27 or 28.

IMPORTANT: `hash` _must_ be the result of a hash operation for the
verification to be secure: it is possible to craft signatures that
recover to arbitrary addresses for non-hashed data. A safe way to ensure
this is by receiving a hash of the original message (which may otherwise
be too long), and then calling {toEthSignedMessageHash} on it._

### tryRecover

```solidity
function tryRecover(bytes32 hash, bytes32 r, bytes32 vs) internal pure returns (address, enum ECDSAUpgradeable.RecoverError)
```

_Overload of {ECDSA-tryRecover} that receives the `r` and `vs` short-signature fields separately.

See https://eips.ethereum.org/EIPS/eip-2098[EIP-2098 short signatures]

_Available since v4.3.__

### recover

```solidity
function recover(bytes32 hash, bytes32 r, bytes32 vs) internal pure returns (address)
```

_Overload of {ECDSA-recover} that receives the `r and `vs` short-signature fields separately.

_Available since v4.2.__

### tryRecover

```solidity
function tryRecover(bytes32 hash, uint8 v, bytes32 r, bytes32 s) internal pure returns (address, enum ECDSAUpgradeable.RecoverError)
```

_Overload of {ECDSA-tryRecover} that receives the `v`,
`r` and `s` signature fields separately.

_Available since v4.3.__

### recover

```solidity
function recover(bytes32 hash, uint8 v, bytes32 r, bytes32 s) internal pure returns (address)
```

_Overload of {ECDSA-recover} that receives the `v`,
`r` and `s` signature fields separately._

### toEthSignedMessageHash

```solidity
function toEthSignedMessageHash(bytes32 hash) internal pure returns (bytes32 message)
```

_Returns an Ethereum Signed Message, created from a `hash`. This
produces hash corresponding to the one signed with the
https://eth.wiki/json-rpc/API#eth_sign[`eth_sign`]
JSON-RPC method as part of EIP-191.

See {recover}._

### toEthSignedMessageHash

```solidity
function toEthSignedMessageHash(bytes s) internal pure returns (bytes32)
```

_Returns an Ethereum Signed Message, created from `s`. This
produces hash corresponding to the one signed with the
https://eth.wiki/json-rpc/API#eth_sign[`eth_sign`]
JSON-RPC method as part of EIP-191.

See {recover}._

### toTypedDataHash

```solidity
function toTypedDataHash(bytes32 domainSeparator, bytes32 structHash) internal pure returns (bytes32 data)
```

_Returns an Ethereum Signed Typed Data, created from a
`domainSeparator` and a `structHash`. This produces hash corresponding
to the one signed with the
https://eips.ethereum.org/EIPS/eip-712[`eth_signTypedData`]
JSON-RPC method as part of EIP-712.

See {recover}._

### toDataWithIntendedValidatorHash

```solidity
function toDataWithIntendedValidatorHash(address validator, bytes data) internal pure returns (bytes32)
```

_Returns an Ethereum Signed Data with intended validator, created from a
`validator` and `data` according to the version 0 of EIP-191.

See {recover}._

# `IERC5267Upgradeable`

### EIP712DomainChanged

```solidity
event EIP712DomainChanged()
```

_MAY be emitted to signal that the domain could have changed._

### eip712Domain

```solidity
function eip712Domain() external view returns (bytes1 fields, string name, string version, uint256 chainId, address verifyingContract, bytes32 salt, uint256[] extensions)
```

_returns the fields and values that describe the domain separator used by this contract for EIP-712
signature._

# `EIP712Upgradeable`

### __EIP712_init

```solidity
function __EIP712_init(string name, string version) internal
```

_Initializes the domain separator and parameter caches.

The meaning of `name` and `version` is specified in
https://eips.ethereum.org/EIPS/eip-712#definition-of-domainseparator[EIP 712]:

- `name`: the user readable name of the signing domain, i.e. the name of the DApp or the protocol.
- `version`: the current major version of the signing domain.

NOTE: These parameters cannot be changed except through a xref:learn::upgrading-smart-contracts.adoc[smart
contract upgrade]._

### __EIP712_init_unchained

```solidity
function __EIP712_init_unchained(string name, string version) internal
```

### _domainSeparatorV4

```solidity
function _domainSeparatorV4() internal view returns (bytes32)
```

_Returns the domain separator for the current chain._

### _hashTypedDataV4

```solidity
function _hashTypedDataV4(bytes32 structHash) internal view virtual returns (bytes32)
```

_Given an already https://eips.ethereum.org/EIPS/eip-712#definition-of-hashstruct[hashed struct], this
function returns the hash of the fully encoded EIP712 message for this domain.

This hash can be used together with {ECDSA-recover} to obtain the signer of a message. For example:

```solidity
bytes32 digest = _hashTypedDataV4(keccak256(abi.encode(
    keccak256("Mail(address to,string contents)"),
    mailTo,
    keccak256(bytes(mailContents))
)));
address signer = ECDSA.recover(digest, signature);
```_

### eip712Domain

```solidity
function eip712Domain() public view virtual returns (bytes1 fields, string name, string version, uint256 chainId, address verifyingContract, bytes32 salt, uint256[] extensions)
```

_See {EIP-5267}.

_Available since v4.9.__

### _EIP712Name

```solidity
function _EIP712Name() internal view virtual returns (string)
```

_The name parameter for the EIP712 domain.

NOTE: This function reads from storage by default, but can be redefined to return a constant value if gas costs
are a concern._

### _EIP712Version

```solidity
function _EIP712Version() internal view virtual returns (string)
```

_The version parameter for the EIP712 domain.

NOTE: This function reads from storage by default, but can be redefined to return a constant value if gas costs
are a concern._

### _EIP712NameHash

```solidity
function _EIP712NameHash() internal view returns (bytes32)
```

_The hash of the name parameter for the EIP712 domain.

NOTE: In previous versions this function was virtual. In this version you should override `_EIP712Name` instead._

### _EIP712VersionHash

```solidity
function _EIP712VersionHash() internal view returns (bytes32)
```

_The hash of the version parameter for the EIP712 domain.

NOTE: In previous versions this function was virtual. In this version you should override `_EIP712Version` instead._

# `ERC20PermitUpgradeable`

### __ERC20Permit_init

```solidity
function __ERC20Permit_init(string name) internal
```

_Initializes the {EIP712} domain separator using the `name` parameter, and setting `version` to `"1"`.

It's a good idea to use the same `name` that is defined as the ERC20 token name._

### __ERC20Permit_init_unchained

```solidity
function __ERC20Permit_init_unchained(string) internal
```

### permit

```solidity
function permit(address owner, address spender, uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s) public virtual
```

_Sets `value` as the allowance of `spender` over ``owner``'s tokens,
given ``owner``'s signed approval.

IMPORTANT: The same issues {IERC20-approve} has related to transaction
ordering also apply here.

Emits an {Approval} event.

Requirements:

- `spender` cannot be the zero address.
- `deadline` must be a timestamp in the future.
- `v`, `r` and `s` must be a valid `secp256k1` signature from `owner`
over the EIP712-formatted function arguments.
- the signature must use ``owner``'s current nonce (see {nonces}).

For more information on the signature format, see the
https://eips.ethereum.org/EIPS/eip-2612#specification[relevant EIP
section].

CAUTION: See Security Considerations above._

### nonces

```solidity
function nonces(address owner) public view virtual returns (uint256)
```

_Returns the current nonce for `owner`. This value must be
included whenever a signature is generated for {permit}.

Every successful call to {permit} increases ``owner``'s nonce by one. This
prevents a signature from being used multiple times._

### DOMAIN_SEPARATOR

```solidity
function DOMAIN_SEPARATOR() external view returns (bytes32)
```

_Returns the domain separator used in the encoding of the signature for {permit}, as defined by {EIP712}._

### _useNonce

```solidity
function _useNonce(address owner) internal virtual returns (uint256 current)
```

_"Consume a nonce": return the current value and increment.

_Available since v4.1.__

# `SafeERC20Upgradeable`

### safeTransfer

```solidity
function safeTransfer(contract IERC20Upgradeable token, address to, uint256 value) internal
```

_Transfer `value` amount of `token` from the calling contract to `to`. If `token` returns no value,
non-reverting calls are assumed to be successful._

### safeTransferFrom

```solidity
function safeTransferFrom(contract IERC20Upgradeable token, address from, address to, uint256 value) internal
```

_Transfer `value` amount of `token` from `from` to `to`, spending the approval given by `from` to the
calling contract. If `token` returns no value, non-reverting calls are assumed to be successful._

### safeApprove

```solidity
function safeApprove(contract IERC20Upgradeable token, address spender, uint256 value) internal
```

_Deprecated. This function has issues similar to the ones found in
{IERC20-approve}, and its usage is discouraged.

Whenever possible, use {safeIncreaseAllowance} and
{safeDecreaseAllowance} instead._

### safeIncreaseAllowance

```solidity
function safeIncreaseAllowance(contract IERC20Upgradeable token, address spender, uint256 value) internal
```

_Increase the calling contract's allowance toward `spender` by `value`. If `token` returns no value,
non-reverting calls are assumed to be successful._

### safeDecreaseAllowance

```solidity
function safeDecreaseAllowance(contract IERC20Upgradeable token, address spender, uint256 value) internal
```

_Decrease the calling contract's allowance toward `spender` by `value`. If `token` returns no value,
non-reverting calls are assumed to be successful._

### forceApprove

```solidity
function forceApprove(contract IERC20Upgradeable token, address spender, uint256 value) internal
```

_Set the calling contract's allowance toward `spender` to `value`. If `token` returns no value,
non-reverting calls are assumed to be successful. Meant to be used with tokens that require the approval
to be set to zero before setting it to a non-zero value, such as USDT._

### safePermit

```solidity
function safePermit(contract IERC20PermitUpgradeable token, address owner, address spender, uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s) internal
```

_Use a ERC-2612 signature to set the `owner` approval toward `spender` on `token`.
Revert on invalid signature._

# `IBeacon`

### implementation

```solidity
function implementation() external view returns (address)
```

_Must return an address that can be used as a delegate call target.

{BeaconProxy} will check that this address is a contract._

# `IERC1822Proxiable`

### proxiableUUID

```solidity
function proxiableUUID() external view returns (bytes32)
```

_Returns the storage slot that the proxiable contract assumes is being used to store the implementation
address.

IMPORTANT: A proxy pointing at a proxiable contract should not be considered proxiable itself, because this risks
bricking a proxy that upgrades to it, by delegating to itself until out of gas. Thus it is critical that this
function revert if invoked through a proxy._

# `IERC1967`

### Upgraded

```solidity
event Upgraded(address implementation)
```

_Emitted when the implementation is upgraded._

### AdminChanged

```solidity
event AdminChanged(address previousAdmin, address newAdmin)
```

_Emitted when the admin account has changed._

### BeaconUpgraded

```solidity
event BeaconUpgraded(address beacon)
```

_Emitted when the beacon is changed._

# `Address`

### isContract

```solidity
function isContract(address account) internal view returns (bool)
```

_Returns true if `account` is a contract.

[IMPORTANT]
====
It is unsafe to assume that an address for which this function returns
false is an externally-owned account (EOA) and not a contract.

Among others, `isContract` will return false for the following
types of addresses:

 - an externally-owned account
 - a contract in construction
 - an address where a contract will be created
 - an address where a contract lived, but was destroyed

Furthermore, `isContract` will also return true if the target contract within
the same transaction is already scheduled for destruction by `SELFDESTRUCT`,
which only has an effect at the end of a transaction.
====

[IMPORTANT]
====
You shouldn't rely on `isContract` to protect against flash loan attacks!

Preventing calls from contracts is highly discouraged. It breaks composability, breaks support for smart wallets
like Gnosis Safe, and does not provide security since it can be circumvented by calling from a contract
constructor.
====_

### sendValue

```solidity
function sendValue(address payable recipient, uint256 amount) internal
```

_Replacement for Solidity's `transfer`: sends `amount` wei to
`recipient`, forwarding all available gas and reverting on errors.

https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost
of certain opcodes, possibly making contracts go over the 2300 gas limit
imposed by `transfer`, making them unable to receive funds via
`transfer`. {sendValue} removes this limitation.

https://consensys.net/diligence/blog/2019/09/stop-using-soliditys-transfer-now/[Learn more].

IMPORTANT: because control is transferred to `recipient`, care must be
taken to not create reentrancy vulnerabilities. Consider using
{ReentrancyGuard} or the
https://solidity.readthedocs.io/en/v0.8.0/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern]._

### functionCall

```solidity
function functionCall(address target, bytes data) internal returns (bytes)
```

_Performs a Solidity function call using a low level `call`. A
plain `call` is an unsafe replacement for a function call: use this
function instead.

If `target` reverts with a revert reason, it is bubbled up by this
function (like regular Solidity function calls).

Returns the raw returned data. To convert to the expected return value,
use https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions[`abi.decode`].

Requirements:

- `target` must be a contract.
- calling `target` with `data` must not revert.

_Available since v3.1.__

### functionCall

```solidity
function functionCall(address target, bytes data, string errorMessage) internal returns (bytes)
```

_Same as {xref-Address-functionCall-address-bytes-}[`functionCall`], but with
`errorMessage` as a fallback revert reason when `target` reverts.

_Available since v3.1.__

### functionCallWithValue

```solidity
function functionCallWithValue(address target, bytes data, uint256 value) internal returns (bytes)
```

_Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],
but also transferring `value` wei to `target`.

Requirements:

- the calling contract must have an ETH balance of at least `value`.
- the called Solidity function must be `payable`.

_Available since v3.1.__

### functionCallWithValue

```solidity
function functionCallWithValue(address target, bytes data, uint256 value, string errorMessage) internal returns (bytes)
```

_Same as {xref-Address-functionCallWithValue-address-bytes-uint256-}[`functionCallWithValue`], but
with `errorMessage` as a fallback revert reason when `target` reverts.

_Available since v3.1.__

### functionStaticCall

```solidity
function functionStaticCall(address target, bytes data) internal view returns (bytes)
```

_Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],
but performing a static call.

_Available since v3.3.__

### functionStaticCall

```solidity
function functionStaticCall(address target, bytes data, string errorMessage) internal view returns (bytes)
```

_Same as {xref-Address-functionCall-address-bytes-string-}[`functionCall`],
but performing a static call.

_Available since v3.3.__

### functionDelegateCall

```solidity
function functionDelegateCall(address target, bytes data) internal returns (bytes)
```

_Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],
but performing a delegate call.

_Available since v3.4.__

### functionDelegateCall

```solidity
function functionDelegateCall(address target, bytes data, string errorMessage) internal returns (bytes)
```

_Same as {xref-Address-functionCall-address-bytes-string-}[`functionCall`],
but performing a delegate call.

_Available since v3.4.__

### verifyCallResultFromTarget

```solidity
function verifyCallResultFromTarget(address target, bool success, bytes returndata, string errorMessage) internal view returns (bytes)
```

_Tool to verify that a low level call to smart-contract was successful, and revert (either by bubbling
the revert reason or using the provided one) in case of unsuccessful call or if target was not a contract.

_Available since v4.8.__

### verifyCallResult

```solidity
function verifyCallResult(bool success, bytes returndata, string errorMessage) internal pure returns (bytes)
```

_Tool to verify that a low level call was successful, and revert if it wasn't, either by bubbling the
revert reason or using the provided one.

_Available since v4.3.__

# `StorageSlot`

### AddressSlot

```solidity
struct AddressSlot {
  address value;
}
```

### BooleanSlot

```solidity
struct BooleanSlot {
  bool value;
}
```

### Bytes32Slot

```solidity
struct Bytes32Slot {
  bytes32 value;
}
```

### Uint256Slot

```solidity
struct Uint256Slot {
  uint256 value;
}
```

### StringSlot

```solidity
struct StringSlot {
  string value;
}
```

### BytesSlot

```solidity
struct BytesSlot {
  bytes value;
}
```

### getAddressSlot

```solidity
function getAddressSlot(bytes32 slot) internal pure returns (struct StorageSlot.AddressSlot r)
```

_Returns an `AddressSlot` with member `value` located at `slot`._

### getBooleanSlot

```solidity
function getBooleanSlot(bytes32 slot) internal pure returns (struct StorageSlot.BooleanSlot r)
```

_Returns an `BooleanSlot` with member `value` located at `slot`._

### getBytes32Slot

```solidity
function getBytes32Slot(bytes32 slot) internal pure returns (struct StorageSlot.Bytes32Slot r)
```

_Returns an `Bytes32Slot` with member `value` located at `slot`._

### getUint256Slot

```solidity
function getUint256Slot(bytes32 slot) internal pure returns (struct StorageSlot.Uint256Slot r)
```

_Returns an `Uint256Slot` with member `value` located at `slot`._

### getStringSlot

```solidity
function getStringSlot(bytes32 slot) internal pure returns (struct StorageSlot.StringSlot r)
```

_Returns an `StringSlot` with member `value` located at `slot`._

### getStringSlot

```solidity
function getStringSlot(string store) internal pure returns (struct StorageSlot.StringSlot r)
```

_Returns an `StringSlot` representation of the string storage pointer `store`._

### getBytesSlot

```solidity
function getBytesSlot(bytes32 slot) internal pure returns (struct StorageSlot.BytesSlot r)
```

_Returns an `BytesSlot` with member `value` located at `slot`._

### getBytesSlot

```solidity
function getBytesSlot(bytes store) internal pure returns (struct StorageSlot.BytesSlot r)
```

_Returns an `BytesSlot` representation of the bytes storage pointer `store`._

# `ERC1967Upgrade`

### _IMPLEMENTATION_SLOT

```solidity
bytes32 _IMPLEMENTATION_SLOT
```

_Storage slot with the address of the current implementation.
This is the keccak-256 hash of "eip1967.proxy.implementation" subtracted by 1, and is
validated in the constructor._

### _getImplementation

```solidity
function _getImplementation() internal view returns (address)
```

_Returns the current implementation address._

### _upgradeTo

```solidity
function _upgradeTo(address newImplementation) internal
```

_Perform implementation upgrade

Emits an {Upgraded} event._

### _upgradeToAndCall

```solidity
function _upgradeToAndCall(address newImplementation, bytes data, bool forceCall) internal
```

_Perform implementation upgrade with additional setup call.

Emits an {Upgraded} event._

### _upgradeToAndCallUUPS

```solidity
function _upgradeToAndCallUUPS(address newImplementation, bytes data, bool forceCall) internal
```

_Perform implementation upgrade with security checks for UUPS proxies, and additional setup call.

Emits an {Upgraded} event._

### _ADMIN_SLOT

```solidity
bytes32 _ADMIN_SLOT
```

_Storage slot with the admin of the contract.
This is the keccak-256 hash of "eip1967.proxy.admin" subtracted by 1, and is
validated in the constructor._

### _getAdmin

```solidity
function _getAdmin() internal view returns (address)
```

_Returns the current admin._

### _changeAdmin

```solidity
function _changeAdmin(address newAdmin) internal
```

_Changes the admin of the proxy.

Emits an {AdminChanged} event._

### _BEACON_SLOT

```solidity
bytes32 _BEACON_SLOT
```

_The storage slot of the UpgradeableBeacon contract which defines the implementation for this proxy.
This is bytes32(uint256(keccak256('eip1967.proxy.beacon')) - 1)) and is validated in the constructor._

### _getBeacon

```solidity
function _getBeacon() internal view returns (address)
```

_Returns the current beacon._

### _upgradeBeaconToAndCall

```solidity
function _upgradeBeaconToAndCall(address newBeacon, bytes data, bool forceCall) internal
```

_Perform beacon upgrade with additional setup call. Note: This upgrades the address of the beacon, it does
not upgrade the implementation contained in the beacon (see {UpgradeableBeacon-_setImplementation} for that).

Emits a {BeaconUpgraded} event._

# `Proxy`

### _delegate

```solidity
function _delegate(address implementation) internal virtual
```

_Delegates the current call to `implementation`.

This function does not return to its internal call site, it will return directly to the external caller._

### _implementation

```solidity
function _implementation() internal view virtual returns (address)
```

_This is a virtual function that should be overridden so it returns the address to which the fallback function
and {_fallback} should delegate._

### _fallback

```solidity
function _fallback() internal virtual
```

_Delegates the current call to the address returned by `_implementation()`.

This function does not return to its internal call site, it will return directly to the external caller._

### fallback

```solidity
fallback() external payable virtual
```

_Fallback function that delegates calls to the address returned by `_implementation()`. Will run if no other
function in the contract matches the call data._

### receive

```solidity
receive() external payable virtual
```

_Fallback function that delegates calls to the address returned by `_implementation()`. Will run if call data
is empty._

### _beforeFallback

```solidity
function _beforeFallback() internal virtual
```

_Hook that is called before falling back to the implementation. Can happen as part of a manual `_fallback`
call, or as part of the Solidity `fallback` or `receive` functions.

If overridden should call `super._beforeFallback()`._

# `BeaconProxy`

### constructor

```solidity
constructor(address beacon, bytes data) public payable
```

_Initializes the proxy with `beacon`.

If `data` is nonempty, it's used as data in a delegate call to the implementation returned by the beacon. This
will typically be an encoded function call, and allows initializing the storage of the proxy like a Solidity
constructor.

Requirements:

- `beacon` must be a contract with the interface {IBeacon}._

### _beacon

```solidity
function _beacon() internal view virtual returns (address)
```

_Returns the current beacon address._

### _implementation

```solidity
function _implementation() internal view virtual returns (address)
```

_Returns the current implementation address of the associated beacon._

### _setBeacon

```solidity
function _setBeacon(address beacon, bytes data) internal virtual
```

_Changes the proxy to use a new beacon. Deprecated: see {_upgradeBeaconToAndCall}.

If `data` is nonempty, it's used as data in a delegate call to the implementation returned by the beacon.

Requirements:

- `beacon` must be a contract.
- The implementation returned by `beacon` must be a contract._

# `IGenericErrors`

### ZeroAddressNotAllowed

```solidity
error ZeroAddressNotAllowed()
```

_Thrown when a parameter is the zero address._

# `IMessageService`

### MessageSent

```solidity
event MessageSent(address _from, address _to, uint256 _fee, uint256 _value, uint256 _nonce, bytes _calldata, bytes32 _messageHash)
```

Emitted when a message is sent.

__calldata has the _ because calldata is a reserved word.
We include the message hash to save hashing costs on the rollup.
This event is used on both L1 and L2._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _from | address | The indexed sender address of the message (msg.sender). |
| _to | address | The indexed intended recipient address of the message on the other layer. |
| _fee | uint256 | The fee being being paid to deliver the message to the recipient in Wei. |
| _value | uint256 | The value being sent to the recipient in Wei. |
| _nonce | uint256 | The unique message number. |
| _calldata | bytes | The calldata being passed to the intended recipient when being called on claiming. |
| _messageHash | bytes32 | The indexed hash of the message parameters. |

### MessageClaimed

```solidity
event MessageClaimed(bytes32 _messageHash)
```

Emitted when a message is claimed.

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _messageHash | bytes32 | The indexed hash of the message that was claimed. |

### FeeTooLow

```solidity
error FeeTooLow()
```

_Thrown when fees are lower than the minimum fee._

### ValueSentTooLow

```solidity
error ValueSentTooLow()
```

_Thrown when the value sent is less than the fee.
Value to forward on is msg.value - _fee._

### MessageSendingFailed

```solidity
error MessageSendingFailed(address destination)
```

_Thrown when the destination address reverts._

### FeePaymentFailed

```solidity
error FeePaymentFailed(address recipient)
```

_Thrown when the recipient address reverts._

### sendMessage

```solidity
function sendMessage(address _to, uint256 _fee, bytes _calldata) external payable
```

Sends a message for transporting from the given chain.

_This function should be called with a msg.value = _value + _fee. The fee will be paid on the destination chain._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _to | address | The destination address on the destination chain. |
| _fee | uint256 | The message service fee on the origin chain. |
| _calldata | bytes | The calldata used by the destination message service to call the destination contract. |

### claimMessage

```solidity
function claimMessage(address _from, address _to, uint256 _fee, uint256 _value, address payable _feeRecipient, bytes _calldata, uint256 _nonce) external
```

Deliver a message to the destination chain.
Is called by the Postman, dApp or end user.

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _from | address | The msg.sender calling the origin message service. |
| _to | address | The destination address on the destination chain. |
| _fee | uint256 | The message service fee on the origin chain. |
| _value | uint256 | The value to be transferred to the destination address. |
| _feeRecipient | address payable | Address that will receive the fees. |
| _calldata | bytes | The calldata used by the destination message service to call/forward to the destination contract. |
| _nonce | uint256 | Unique message number. |

### sender

```solidity
function sender() external view returns (address)
```

Returns the original sender of the message on the origin layer.

#### Return Values

| Name | Type | Description |
| ---- | ---- | ----------- |
| [0] | address | The original sender of the message on the origin layer. |

# `MessageServiceBase`

### messageService

```solidity
contract IMessageService messageService
```

### remoteSender

```solidity
address remoteSender
```

### CallerIsNotMessageService

```solidity
error CallerIsNotMessageService()
```

_Thrown when the caller address is not the message service address_

### SenderNotAuthorized

```solidity
error SenderNotAuthorized()
```

_Thrown when remote sender address is not authorized._

### onlyMessagingService

```solidity
modifier onlyMessagingService()
```

_Modifier to make sure the caller is the known message service.

Requirements:

- The msg.sender must be the message service._

### onlyAuthorizedRemoteSender

```solidity
modifier onlyAuthorizedRemoteSender()
```

_Modifier to make sure the original sender is allowed.

Requirements:

- The original message sender via the message service must be a known sender._

### __MessageServiceBase_init

```solidity
function __MessageServiceBase_init(address _messageService) internal
```

Initializes the message service

_Must be initialized in the initialize function of the main contract or constructor_

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _messageService | address | The message service address, cannot be empty. |

### _setRemoteSender

```solidity
function _setRemoteSender(address _remoteSender) internal
```

Sets the remote sender

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _remoteSender | address | The authorized remote sender address, cannot be empty. |

# `BridgedTokenFlatten`

ERC20 token created when a native token is bridged to a target chain.

### bridge

```solidity
address bridge
```

### _decimals

```solidity
uint8 _decimals
```

### OnlyBridge

```solidity
error OnlyBridge(address bridgeAddress)
```

### constructor

```solidity
constructor() public
```

_Disable constructor for safety_

### initialize

```solidity
function initialize(string _tokenName, string _tokenSymbol, uint8 _tokenDecimals) external
```

### onlyBridge

```solidity
modifier onlyBridge()
```

_Ensures call come from the bridge._

### mint

```solidity
function mint(address _recipient, uint256 _amount) external
```

_Called by the bridge to mint tokens during a bridge transaction._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _recipient | address | The address to receive the minted tokens. |
| _amount | uint256 | The amount of tokens to mint. |

### burn

```solidity
function burn(address _account, uint256 _amount) external
```

_Called by the bridge to burn tokens during a bridge transaction.
User should first have allowed the bridge to spend tokens on their behalf._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _account | address | The account from which tokens will be burned. |
| _amount | uint256 | The amount of tokens to burn. |

### decimals

```solidity
function decimals() public view returns (uint8)
```

_Overrides ERC20 default function to support tokens with different decimals._

#### Return Values

| Name | Type | Description |
| ---- | ---- | ----------- |
| [0] | uint8 | The number of decimal. |

# `ITokenBridge`

### TokenReserved

```solidity
event TokenReserved(address token)
```

### ReservationRemoved

```solidity
event ReservationRemoved(address token)
```

### CustomContractSet

```solidity
event CustomContractSet(address nativeToken, address customContract, address setBy)
```

### BridgingInitiated

```solidity
event BridgingInitiated(address sender, address recipient, address token, uint256 amount)
```

_DEPRECATED in favor of BridgingInitiatedV2._

### BridgingInitiatedV2

```solidity
event BridgingInitiatedV2(address sender, address recipient, address token, uint256 amount)
```

### BridgingFinalized

```solidity
event BridgingFinalized(address nativeToken, address bridgedToken, uint256 amount, address recipient)
```

_DEPRECATED in favor of BridgingFinalizedV2._

### BridgingFinalizedV2

```solidity
event BridgingFinalizedV2(address nativeToken, address bridgedToken, uint256 amount, address recipient)
```

### NewToken

```solidity
event NewToken(address token)
```

### NewTokenDeployed

```solidity
event NewTokenDeployed(address bridgedToken, address nativeToken)
```

### RemoteTokenBridgeSet

```solidity
event RemoteTokenBridgeSet(address remoteTokenBridge, address setBy)
```

### TokenDeployed

```solidity
event TokenDeployed(address token)
```

### DeploymentConfirmed

```solidity
event DeploymentConfirmed(address[] tokens, address confirmedBy)
```

### MessageServiceUpdated

```solidity
event MessageServiceUpdated(address newMessageService, address oldMessageService, address setBy)
```

### ReservedToken

```solidity
error ReservedToken(address token)
```

### RemoteTokenBridgeAlreadySet

```solidity
error RemoteTokenBridgeAlreadySet(address remoteTokenBridge)
```

### AlreadyBridgedToken

```solidity
error AlreadyBridgedToken(address token)
```

### InvalidPermitData

```solidity
error InvalidPermitData(bytes4 permitData, bytes4 permitSelector)
```

### PermitNotFromSender

```solidity
error PermitNotFromSender(address owner)
```

### PermitNotAllowingBridge

```solidity
error PermitNotAllowingBridge(address spender)
```

### ZeroAmountNotAllowed

```solidity
error ZeroAmountNotAllowed(uint256 amount)
```

### NotReserved

```solidity
error NotReserved(address token)
```

### TokenNotDeployed

```solidity
error TokenNotDeployed(address token)
```

### AlreadyBrigedToNativeTokenSet

```solidity
error AlreadyBrigedToNativeTokenSet(address token)
```

### NativeToBridgedTokenAlreadySet

```solidity
error NativeToBridgedTokenAlreadySet(address token)
```

### StatusAddressNotAllowed

```solidity
error StatusAddressNotAllowed(address token)
```

### DecimalsAreUnknown

```solidity
error DecimalsAreUnknown(address token)
```

### bridgeTokenWithPermit

```solidity
function bridgeTokenWithPermit(address _token, uint256 _amount, address _recipient, bytes _permitData) external payable
```

Similar to `bridgeToken` function but allows to pass additional
  permit data to do the ERC20 approval in a single transaction.

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _token | address | The address of the token to be bridged. |
| _amount | uint256 | The amount of the token to be bridged. |
| _recipient | address | The address that will receive the tokens on the other chain. |
| _permitData | bytes | The permit data for the token, if applicable. |

### completeBridging

```solidity
function completeBridging(address _nativeToken, uint256 _amount, address _recipient, uint256 _chainId, bytes _tokenMetadata) external
```

_It can only be called from the Message Service. To finalize the bridging
  process, a user or postmen needs to use the `claimMessage` function of the
  Message Service to trigger the transaction._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _nativeToken | address | The address of the token on its native chain. |
| _amount | uint256 | The amount of the token to be received. |
| _recipient | address | The address that will receive the tokens. |
| _chainId | uint256 | The source chainId or target chaindId for this token |
| _tokenMetadata | bytes | Additional data used to deploy the bridged token if it   doesn't exist already. |

### setMessageService

```solidity
function setMessageService(address _messageService) external
```

_Change the address of the Message Service._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _messageService | address | The address of the new Message Service. |

### setDeployed

```solidity
function setDeployed(address[] _nativeTokens) external
```

_It can only be called from the Message Service. To change the status of
  the native tokens to DEPLOYED meaning they have been deployed on the other chain
  a user or postman needs to use the `claimMessage` function of the
  Message Service to trigger the transaction._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _nativeTokens | address[] | The addresses of the native tokens. |

### setRemoteTokenBridge

```solidity
function setRemoteTokenBridge(address _remoteTokenBridge) external
```

_Sets the address of the remote token bridge. Can only be called once._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _remoteTokenBridge | address | The address of the remote token bridge to be set. |

### removeReserved

```solidity
function removeReserved(address _token) external
```

_Removes a token from the reserved list._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _token | address | The address of the token to be removed from the reserved list. |

### setCustomContract

```solidity
function setCustomContract(address _nativeToken, address _targetContract) external
```

_Linea can set a custom ERC20 contract for specific ERC20.
  For security purpose, Linea can only call this function if the token has
  not been bridged yet._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _nativeToken | address | address of the token on the source chain. |
| _targetContract | address | address of the custom contract. |

### pause

```solidity
function pause() external
```

_Pause the contract, can only be called by the owner._

### unpause

```solidity
function unpause() external
```

_Unpause the contract, can only be called by the owner._

# `TokenBridgeFlatten`

Contract to manage cross-chain ERC20 bridging.

### _PERMIT_SELECTOR

```solidity
bytes4 _PERMIT_SELECTOR
```

### tokenBeacon

```solidity
address tokenBeacon
```

### nativeToBridgedToken

```solidity
mapping(uint256 => mapping(address => address)) nativeToBridgedToken
```

mapping (chainId => nativeTokenAddress => brigedTokenAddress)

### bridgedToNativeToken

```solidity
mapping(address => address) bridgedToNativeToken
```

mapping (brigedTokenAddress => nativeTokenAddress)

### sourceChainId

```solidity
uint256 sourceChainId
```

The current layer chainId from where the bridging is triggered

### targetChainId

```solidity
uint256 targetChainId
```

The targeted layer chainId where the bridging is received

### EMPTY

```solidity
address EMPTY
```

EMPTY means a token is not present in the mapping.

### RESERVED_STATUS

```solidity
address RESERVED_STATUS
```

RESERVED means a token is reserved and cannot be bridged.

### NATIVE_STATUS

```solidity
address NATIVE_STATUS
```

NATIVE means a token is native to the current local chain.

### DEPLOYED_STATUS

```solidity
address DEPLOYED_STATUS
```

DEPLOYED means the bridged token contract has been deployed on the remote chain.

### isNewToken

```solidity
modifier isNewToken(address _token)
```

_Ensures the token has not been bridged before._

### nonZeroAddress

```solidity
modifier nonZeroAddress(address _addr)
```

_Ensures the address is not address(0)._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _addr | address | Address to check. |

### nonZeroAmount

```solidity
modifier nonZeroAmount(uint256 _amount)
```

_Ensures the amount is not 0._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _amount | uint256 | amount to check. |

### constructor

```solidity
constructor() public
```

_Disable constructor for safety_

### initialize

```solidity
function initialize(address _securityCouncil, address _messageService, address _tokenBeacon, uint256 _sourceChainId, uint256 _targetChainId, address[] _reservedTokens) external
```

_Contract will be used as proxy implementation._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _securityCouncil | address |  |
| _messageService | address | The address of the MessageService contract. |
| _tokenBeacon | address | The address of the tokenBeacon. |
| _sourceChainId | uint256 | The source chain id of the current layer |
| _targetChainId | uint256 | The target chaind id of the targeted layer |
| _reservedTokens | address[] | The list of reserved tokens to be set |

### bridgeToken

```solidity
function bridgeToken(address _token, uint256 _amount, address _recipient) public payable
```

This function is the single entry point to bridge tokens to the
  other chain, both for native and already bridged tokens. You can use it
  to bridge any ERC20. If the token is bridged for the first time an ERC20
  (BridgedToken.sol) will be automatically deployed on the target chain.

_User should first allow the bridge to transfer tokens on his behalf.
  Alternatively, you can use BridgeTokenWithPermit to do so in a single
  transaction. If you want the transfer to be automatically executed on the
  destination chain. You should send enough ETH to pay the postman fees.
  Note that Linea can reserve some tokens (which use a dedicated bridge).
  In this case, the token cannot be bridged. Linea can only reserve tokens
  that have not been bridged yet.
  Linea can pause the bridge for security reason. In this case new bridge
  transaction would revert.
Note: If, when bridging an unbridged token and decimals are unknown,
the call will revert to prevent mismatched decimals. Only those ERC20s,
with a decimals function are supported._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _token | address | The address of the token to be bridged. |
| _amount | uint256 | The amount of the token to be bridged. |
| _recipient | address | The address that will receive the tokens on the other chain. |

### bridgeTokenWithPermit

```solidity
function bridgeTokenWithPermit(address _token, uint256 _amount, address _recipient, bytes _permitData) external payable
```

Similar to `bridgeToken` function but allows to pass additional
  permit data to do the ERC20 approval in a single transaction.
_permit can fail silently, don't rely on this function passing as a form
  of authentication

_There is no need for validation at this level as the validation on pausing,
and empty values exists on the "bridgeToken" call._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _token | address | The address of the token to be bridged. |
| _amount | uint256 | The amount of the token to be bridged. |
| _recipient | address | The address that will receive the tokens on the other chain. |
| _permitData | bytes | The permit data for the token, if applicable. |

### completeBridging

```solidity
function completeBridging(address _nativeToken, uint256 _amount, address _recipient, uint256 _chainId, bytes _tokenMetadata) external
```

_It can only be called from the Message Service. To finalize the bridging
  process, a user or postman needs to use the `claimMessage` function of the
  Message Service to trigger the transaction._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _nativeToken | address | The address of the token on its native chain. |
| _amount | uint256 | The amount of the token to be received. |
| _recipient | address | The address that will receive the tokens. |
| _chainId | uint256 | The token's origin layer chaindId |
| _tokenMetadata | bytes | Additional data used to deploy the bridged token if it   doesn't exist already. |

### setMessageService

```solidity
function setMessageService(address _messageService) public
```

_Change the address of the Message Service._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _messageService | address | The address of the new Message Service. |

### confirmDeployment

```solidity
function confirmDeployment(address[] _tokens) external payable
```

_Change the status to DEPLOYED to the tokens passed in parameter
   Will call the method setDeployed on the other chain using the message Service_

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _tokens | address[] | Array of bridged tokens that have been deployed. |

### setDeployed

```solidity
function setDeployed(address[] _nativeTokens) external
```

_Change the status of tokens to DEPLOYED. New bridge transaction will not
  contain token metadata, which save gas.
  Can only be called from the Message Service. A user or postman needs to use
  the `claimMessage` function of the Message Service to trigger the transaction._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _nativeTokens | address[] | Array of native tokens for which the DEPLOYED status must be set. |

### setRemoteTokenBridge

```solidity
function setRemoteTokenBridge(address _remoteTokenBridge) external
```

_Sets the address of the remote token bridge. Can only be called once._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _remoteTokenBridge | address | The address of the remote token bridge to be set. |

### deployBridgedToken

```solidity
function deployBridgedToken(address _nativeToken, bytes _tokenMetadata, uint256 _chainId) internal returns (address)
```

_Deploy a new EC20 contract for bridged token using a beacon proxy pattern.
  To adapt to future requirements, Linea can update the implementation of
  all (existing and future) contracts by updating the beacon. This update is
  subject to a delay by a time lock.
  Contracts are deployed using CREATE2 so deployment address is deterministic._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _nativeToken | address | The address of the native token on the source chain. |
| _tokenMetadata | bytes | The encoded metadata for the token. |
| _chainId | uint256 | The chain id on which the token will be deployed, used to calculate the salt |

#### Return Values

| Name | Type | Description |
| ---- | ---- | ----------- |
| [0] | address | The address of the newly deployed BridgedToken contract. |

### setReserved

```solidity
function setReserved(address _token) public
```

Make sure that _token is native to the current chain
  where you are calling this function from

_Linea can reserve tokens. In this case, the token cannot be bridged.
  Linea can only reserve tokens that have not been bridged before._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _token | address | The address of the token to be set as reserved. |

### removeReserved

```solidity
function removeReserved(address _token) external
```

_Removes a token from the reserved list._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _token | address | The address of the token to be removed from the reserved list. |

### setCustomContract

```solidity
function setCustomContract(address _nativeToken, address _targetContract) external
```

_Linea can set a custom ERC20 contract for specific ERC20.
  For security purpose, Linea can only call this function if the token has
  not been bridged yet._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _nativeToken | address | The address of the token on the source chain. |
| _targetContract | address | The address of the custom contract. |

### pause

```solidity
function pause() external
```

_Pause the contract, can only be called by the owner._

### unpause

```solidity
function unpause() external
```

_Unpause the contract, can only be called by the owner._

### _safeName

```solidity
function _safeName(address _token) internal view returns (string)
```

_Provides a safe ERC20.name version which returns 'NO_NAME' as fallback string._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _token | address | The address of the ERC-20 token contract |

### _safeSymbol

```solidity
function _safeSymbol(address _token) internal view returns (string)
```

_Provides a safe ERC20.symbol version which returns 'NO_SYMBOL' as fallback string_

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _token | address | The address of the ERC-20 token contract |

### _safeDecimals

```solidity
function _safeDecimals(address _token) internal view returns (uint8)
```

Provides a safe ERC20.decimals version which reverts when decimals are unknown
  Note Tokens with (decimals > 255) are not supported

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _token | address | The address of the ERC-20 token contract |

### _returnDataToString

```solidity
function _returnDataToString(bytes _data) internal pure returns (string)
```

_Converts returned data to string. Returns 'NOT_VALID_ENCODING' as fallback value._

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _data | bytes | returned data |

### _permit

```solidity
function _permit(address _token, bytes _permitData) internal
```

Call the token permit method of extended ERC20
Only support tokens implementing ERC-2612

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _token | address | ERC20 token address |
| _permitData | bytes | Raw data of the call `permit` of the token |

