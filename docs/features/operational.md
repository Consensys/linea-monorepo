# Operational

> Revenue management, token operations, DEX adapters, and sequencer liveness monitoring.

## Overview

Linea includes several operational contracts that support protocol revenue capture, token management, and monitoring. These are ancillary to the core rollup protocol but essential for production operations.

## Components

### RollupRevenueVault (`contracts/src/operational/RollupRevenueVault.sol`)

Collects and manages revenue generated by the rollup (e.g., L2 transaction fees, MEV). Supports role-based withdrawal.

### L1LineaTokenBurner (`contracts/src/operational/L1LineaTokenBurner.sol`)

Burns LINEA tokens on L1. Used for deflationary mechanics or token lifecycle management.

### V3DexSwapAdapter (`contracts/src/operational/V3DexSwapAdapter.sol`)

Adapter for Uniswap V3-style DEX swaps, used by the protocol to convert collected fees or perform operational token swaps on-chain.

A variant `V3DexSwapWethDepositAdapter` handles WETH wrapping before swaps.

### LineaSequencerUptimeFeed (`contracts/src/operational/LineaSequencerUptimeFeed.sol`)

On-chain liveness oracle. Reports sequencer uptime/downtime status via `AnswerUpdated` events. Used by DeFi protocols to detect sequencer outages (similar to Chainlink's L2 sequencer uptime feed pattern).

**Behavior**:
- Emits `AnswerUpdated(1, ...)` when sequencer goes down
- Emits `AnswerUpdated(0, ...)` when sequencer comes back up
- Queryable by external contracts to gate operations during downtime

## Test Coverage

| Test File | Runner | Validates |
|-----------|--------|-----------|
| `contracts/test/hardhat/operational/RollupRevenueVault.ts` | Hardhat | Revenue collection, withdrawal, roles |
| `contracts/test/hardhat/operational/LineaSequencerUptimeFeed.ts` | Hardhat | Constructor, status updates, access control |
| `contracts/test/hardhat/operational/L1LineaTokenBurner.ts` | Hardhat | Token burning, role checks |
| `contracts/test/hardhat/operational/V3DexSwapAdapter.ts` | Hardhat | Swap execution, adapter logic |
| `contracts/test/hardhat/operational/V3DexSwapWethDepositAdapter.ts` | Hardhat | WETH deposit + swap |
| `e2e/src/liveness.spec.ts` | Jest | Sequencer restart, `AnswerUpdated` events |
